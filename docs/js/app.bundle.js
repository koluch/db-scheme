webpackJsonp([0],[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t,n){return s.default.isType(t)&&"struct"!==t.meta.kind?t.is(e)||t(e,[n+": "+s.default.getTypeName(t)]):e instanceof t||s.default.fail("Invalid value "+s.default.stringify(e)+" supplied to "+n+" (expected a "+s.default.getTypeName(t)+")"),e}var u=function(){function e(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(1),s=a(c),d=n(57),p=a(d),y=n(221),h=a(y),b=n(222),v=n(229),m=n(246),T=(a(m),n(252)),g=r(T),_=n(257),w=r(_),S=n(256),A=r(S),k=n(258),E=r(k),P=n(253),O=r(P),x=n(259),C=a(x),M=n(285),D=(r(M),n(283),g.TState||s.default.Any),j=g.TTableState||s.default.Any,N=(g.TLinkState||s.default.Any,w.TAction||s.default.Any),L=(A.TPoint||s.default.Any,E.TBounds||s.default.Any,O.TTable||s.default.Any,{tables:[{table:{name:"posts",attrs:[{name:"id"},{name:"title"},{name:"user_id"},{name:"body"}],foreignKeys:[]},position:{x:0,y:0}},{table:{name:"comments",attrs:[{name:"id"},{name:"post_id"},{name:"user_id"},{name:"title"},{name:"visible"}],foreignKeys:[]},position:{x:500,y:200}},{table:{name:"users",attrs:[{name:"id"},{name:"name"}],foreignKeys:[]},position:{x:300,y:400}}],dnd:!1,tco:!1,selected:!1,mousePosition:{x:0,y:0}}),F=(s.default.union([s.default.interface({type:s.default.enums.of(["TABLE"]),table:s.default.String}),s.default.interface({type:s.default.enums.of(["TABLE_HEADER"]),table:s.default.String}),s.default.interface({type:s.default.enums.of(["ATTR"]),table:s.default.String,attr:s.default.String}),s.default.interface({type:s.default.enums.of(["NONE"])})],"TClickTarget"),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments[1];i(e,D,"state"),i(t,N,"action");var n=function(e,t){var n=this;if("MOVE_TABLE"===t.type){var r=function(){var r=(e.dnd,t.table),a=t.position;return{v:f({},e,{tables:e.tables.map(function(e){var t=function(e){return e.table.name===r?f({},e,{position:a}):f({},e)}.call(n,e);return i(t,j,"return value"),t})})}}();if("object"===("undefined"==typeof r?"undefined":l(r)))return r.v}else{if("MOUSE_MOVE"===t.type){var a=t.point;return f({},e,{mousePosition:a})}if("SWITCH_ATTRS"===t.type){var c=function(){var r=(e.dnd,t.table),a=t.attr1,l=t.attr2;return{v:f({},e,{tables:e.tables.map(function(e){var t=function(e){if(e.table.name===r){var t=e.table.attrs.map(function(e,t){var n=e.name;return{name:n,i:t}}).filter(function(e){var t=e.name;return t===a}).map(function(e){var t=e.i;return t})[0],n=e.table.attrs.map(function(e,t){var n=e.name;return{name:n,i:t}}).filter(function(e){var t=e.name;return t===l}).map(function(e){var t=e.i;return t})[0],i=[].concat(o(e.table.attrs)),c=i.splice(t,1),s=u(c,1),d=s[0];return i.splice(n,0,d),f({},e,{table:f({},e.table,{attrs:i})})}return f({},e)}.call(n,e);return i(t,j,"return value"),t})})}}();if("object"===("undefined"==typeof c?"undefined":l(c)))return c.v}else if("START_DND"===t.type){var s=t.attrs;if("TABLE"===s.type){var d=s.table,p=t.startPoint;return f({},e,{dnd:{type:"TABLE",table:d,lastPoint:p}})}if("ATTR"===s.type){var y=s.attr,h=s.table,b=t.startPoint;return f({},e,{dnd:{type:"ATTR",attr:y,table:h,startPoint:b,lastPoint:b}})}}else if("UPDATE_DND"===t.type){var v=e.dnd,m=t.lastPoint;if(v!==!1){if("TABLE"===v.type)return f({},e,{dnd:{type:"TABLE",table:v.table,lastPoint:m}});if("ATTR"===v.type)return f({},e,{dnd:{type:"ATTR",attr:v.attr,table:v.table,lastPoint:m}})}}else{if("STOP_DND"===t.type){var T=e.dnd;e.tables,t.point;return T!==!1?f({},e,{dnd:!1}):e}if("SELECT"===t.type){if("TABLE"===t.target){var g=t.table;return f({},e,{selected:{type:"TABLE",table:g}})}if("ATTR"===t.target){var _=t.table,w=t.attr;return f({},e,{selected:{type:"ATTR",table:_,attr:w}})}}else{if("CANCEL_SELECT"===t.type)return f({},e,{selected:!1});if("START_TCO"===t.type){if("ADD_LINK"===t.attrs.type){var S=t.attrs,A=S.attr,k=S.table;return f({},e,{tco:{type:"ADD_LINK",attr:A,table:k}})}}else{if("STOP_TCO"===t.type)return f({},e,{tco:!1});if("ADD_LINK"===t.type){var E=function(){var n=t.from,r=t.to;return{v:f({},e,{tables:e.tables.map(function(e){if(e.table.name===n.table){var t=e.table.foreignKeys.filter(function(e){return!(e.from.attr===n.attr)});return f({},e,{table:f({},e.table,{foreignKeys:t.concat([{from:{attr:n.attr},to:r}])})})}return e})})}}();if("object"===("undefined"==typeof E?"undefined":l(E)))return E.v}else if("DELETE_LINK"===t.type){var P=function(){var n=t.table,r=t.attr;return{v:f({},e,{tables:e.tables.map(function(e){return e.table.name===n?f({},e,{table:f({},e.table,{foreignKeys:e.table.foreignKeys.filter(function(e){return!(e.from.attr===r)})})}):e})})}}();if("object"===("undefined"==typeof P?"undefined":l(P)))return P.v}else if("DELETE_ATTR"===t.type){var O=function(){var n=t.table,r=t.attr;return{v:f({},e,{tables:e.tables.map(function(e){return e.table.name===n?f({},e,{table:f({},e.table,{attrs:e.table.attrs.filter(function(e){var t=e.name;return t!==r}),foreignKeys:e.table.foreignKeys.filter(function(e){var t=e.from;return!(t.attr===r)})})}):f({},e,{table:f({},e.table,{foreignKeys:e.table.foreignKeys.filter(function(e){var t=e.to;return!(t.table===n&&t.attr===r)})})})})})}}();if("object"===("undefined"==typeof O?"undefined":l(O)))return O.v}else if("DELETE_TABLE"===t.type){var x=function(){var n=t.table,r=e.tables.filter(function(e){return e.table.name!==n});return{v:f({},e,{tables:r.map(function(e){return f({},e,{table:f({},e.table,{foreignKeys:e.table.foreignKeys.filter(function(e){var t=e.to;return t.table!==n})})})})})}}();if("object"===("undefined"==typeof x?"undefined":l(x)))return x.v}else if("ADD_ATTR"===t.type){var C=function(){var n=t.table,r=t.attr;return{v:f({},e,{tables:e.tables.map(function(e){return e.table.name===n?f({},e,{table:f({},e.table,{attrs:e.table.attrs.filter(function(e){var t=e.name;return t!==r.name}).concat([r])})}):e})})}}();if("object"===("undefined"==typeof C?"undefined":l(C)))return C.v}else if("ADD_TABLE"===t.type){var M=function(){var n=t.table;return{v:f({},e,{tables:e.tables.filter(function(e){var t=e.table.name;return t!==n.name}).concat([{position:{x:0,y:0},table:n}])})}}();if("object"===("undefined"==typeof M?"undefined":l(M)))return M.v}}}}}return e}.call(void 0,e,t);return i(n,D,"return value"),n}),B=(0,v.createStore)(F);document.addEventListener("DOMContentLoaded",function(){p.default.render(h.default.createElement(b.Provider,{store:B},h.default.createElement(C.default,null)),document.getElementById("react"))})},function(e,t,n){/*! @preserve
	 *
	 * tcomb.js - Type checking and DDD for JavaScript
	 *
	 * The MIT License (MIT)
	 *
	 * Copyright (c) 2014-2016 Giulio Canti
	 *
	 */
var r=n(2);r.Any=n(8),r.Array=n(16),r.Boolean=n(17),r.Date=n(19),r.Error=n(20),r.Function=n(21),r.Nil=n(22),r.Number=n(23),r.Integer=n(25),r.IntegerT=r.Integer,r.Object=n(31),r.RegExp=n(32),r.String=n(33),r.Type=n(34),r.TypeT=r.Type,r.Arr=r.Array,r.Bool=r.Boolean,r.Dat=r.Date,r.Err=r.Error,r.Func=r.Function,r.Num=r.Number,r.Obj=r.Object,r.Re=r.RegExp,r.Str=r.String,r.dict=n(35),r.declare=n(36),r.enums=n(39),r.irreducible=n(9),r.list=n(40),r.maybe=n(41),r.refinement=n(26),r.struct=n(43),r.tuple=n(49),r.union=n(50),r.func=n(51),r.intersection=n(52),r.subtype=r.refinement,r.inter=n(53),r.interface=r.inter,r.assert=r,r.update=n(55),r.mixin=n(37),r.isType=n(13),r.is=n(30),r.getTypeName=n(12),r.match=n(56),e.exports=r},function(e,t,n){function r(e,t){e!==!0&&(a(t)?t=t():o(t)&&(t='Assert failed (turn on "Pause on exceptions" in your Source panel)'),r.fail(t))}var a=n(3),o=n(4),i=n(5),u=n(6);r.fail=i,r.stringify=u,e.exports=r},function(e,t){e.exports=function(e){return"function"==typeof e}},function(e,t){e.exports=function(e){return null===e||void 0===e}},function(e,t){e.exports=function(e){throw new TypeError("[tcomb] "+e)}},function(e,t,n){function r(e,t){return"function"==typeof t?a(t):t}var a=n(7);e.exports=function(e){try{return JSON.stringify(e,r,2)}catch(t){return String(e)}}},function(e,t){e.exports=function(e){return e.displayName||e.name||"<function"+e.length+">"}},function(e,t,n){var r=n(9);e.exports=r("Any",function(){return!0})},function(e,t,n){n(2),n(10),n(3),n(11);e.exports=function(e,t){function n(e,t){return e}return n.meta={kind:"irreducible",name:e,predicate:t,identity:!0},n.displayName=e,n.is=t,n}},function(e,t){e.exports=function(e){return"string"==typeof e}},function(e,t,n){var r=n(2),a=n(12);e.exports=function(e,t){r(!(e instanceof t),function(){return"Cannot use the new operator to instantiate the type "+a(t)})}},function(e,t,n){var r=n(13),a=n(7);e.exports=function(e){return r(e)?e.displayName:a(e)}},function(e,t,n){var r=n(3),a=n(14);e.exports=function(e){return r(e)&&a(e.meta)}},function(e,t,n){var r=n(4),a=n(15);e.exports=function(e){return!r(e)&&"object"==typeof e&&!a(e)}},function(e,t){e.exports=function(e){return Array.isArray?Array.isArray(e):e instanceof Array}},function(e,t,n){var r=n(9),a=n(15);e.exports=r("Array",a)},function(e,t,n){var r=n(9),a=n(18);e.exports=r("Boolean",a)},function(e,t){e.exports=function(e){return e===!0||e===!1}},function(e,t,n){var r=n(9);e.exports=r("Date",function(e){return e instanceof Date})},function(e,t,n){var r=n(9);e.exports=r("Error",function(e){return e instanceof Error})},function(e,t,n){var r=n(9),a=n(3);e.exports=r("Function",a)},function(e,t,n){var r=n(9),a=n(4);e.exports=r("Nil",a)},function(e,t,n){var r=n(9),a=n(24);e.exports=r("Number",a)},function(e,t){e.exports=function(e){return"number"==typeof e&&isFinite(e)&&!isNaN(e)}},function(e,t,n){var r=n(26),a=n(23);e.exports=r(a,function(e){return e%1===0},"Integer")},function(e,t,n){function r(e,t){return"{"+f(e)+" | "+c(t)+"}"}function a(e,t,n){function a(t,n){var r=u(e,t,n);return r}var f=n||r(e,t),c=i(e);return a.meta={kind:"subtype",type:e,predicate:t,name:n,identity:c},a.displayName=f,a.is=function(n){return l(n,e)&&t(n)},a.update=function(e,t){return a(o.update(e,t))},a}var o=n(2),i=(n(27),n(3),n(11),n(28)),u=n(29),l=n(30),f=n(12),c=n(7);a.getDefaultName=r,e.exports=a},function(e,t,n){var r=n(4),a=n(10);e.exports=function(e){return r(e)||a(e)}},function(e,t,n){var r=(n(2),n(17),n(13));n(12);e.exports=function(e){return!r(e)||e.meta.identity}},function(e,t,n){var r=n(13);n(7),n(2),n(6);e.exports=function(e,t,n){return r(e)?e.meta.identity||"object"!=typeof t||null===t?e(t,n):new e(t,n):t}},function(e,t,n){var r=n(13);e.exports=function(e,t){return r(t)?t.is(e):e instanceof t}},function(e,t,n){var r=n(9),a=n(14);e.exports=r("Object",a)},function(e,t,n){var r=n(9);e.exports=r("RegExp",function(e){return e instanceof RegExp})},function(e,t,n){var r=n(9),a=n(10);e.exports=r("String",a)},function(e,t,n){var r=n(9),a=n(13);e.exports=r("Type",a)},function(e,t,n){function r(e,t){return"{[key: "+i(e)+"]: "+i(t)+"}"}function a(e,t,n){function a(n,r){if(d)return n;var a=!0,o={};for(var i in n)if(n.hasOwnProperty(i)){i=f(e,i,null);var u=n[i],l=f(t,u,null);a=a&&u===l,o[i]=l}return a&&(o=n),o}var s=n||r(e,t),d=(i(e),i(t),u(e)&&u(t));return a.meta={kind:"dict",domain:e,codomain:t,name:n,identity:d},a.displayName=s,a.is=function(n){if(!l(n))return!1;for(var r in n)if(n.hasOwnProperty(r)&&(!c(r,e)||!c(n[r],t)))return!1;return!0},a.update=function(e,t){return a(o.update(e,t))},a}var o=n(2),i=(n(27),n(3),n(12)),u=n(28),l=n(14),f=n(29),c=n(30);a.getDefaultName=r,e.exports=a},function(e,t,n){var r=(n(2),n(27),n(13),n(4),n(37)),a=n(12),o=n(38),i=1;e.exports=function(e){function t(e,t){return n(e,t)}var n;return t.define=function(a){return o(a)&&t.hasOwnProperty("dispatch")&&(a.dispatch=t.dispatch),n=a,r(t,n,!0),e&&(n.displayName=t.displayName=e,t.meta.name=e),t.meta.identity=n.meta.identity,t.prototype=n.prototype,t},t.displayName=e||a(t)+"$"+i++,t.meta={identity:!1},t.prototype=null,t}},function(e,t,n){var r=n(4);n(2);e.exports=function(e,t,n){if(r(t))return e;for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);return e}},function(e,t,n){var r=n(13);e.exports=function(e){return r(e)&&"union"===e.meta.kind}},function(e,t,n){function r(e){return Object.keys(e).map(function(e){return o.stringify(e)}).join(" | ")}function a(e,t){function n(e,t){return e}var a=t||r(e);return n.meta={kind:"enums",map:e,name:t,identity:!0},n.displayName=a,n.is=function(t){return e.hasOwnProperty(t)},n}var o=n(2),i=(n(27),n(11),n(10));n(14);a.of=function(e,t){e=i(e)?e.split(" "):e;var n={};return e.forEach(function(e){n[e]=e}),a(n,t)},a.getDefaultName=r,e.exports=a},function(e,t,n){function r(e){return"Array<"+i(e)+">"}function a(e,t){function n(t,n){if(s)return t;for(var r=!0,a=[],o=0,i=t.length;o<i;o++){var u=t[o],f=l(e,u,null);r=r&&u===f,a.push(f)}return r&&(a=t),a}var a=t||r(e),s=(i(e),u(e));return n.meta={kind:"list",type:e,name:t,identity:s},n.displayName=a,n.is=function(t){return c(t)&&t.every(function(t){return f(t,e)})},n.update=function(e,t){return n(o.update(e,t))},n}var o=n(2),i=(n(27),n(3),n(12)),u=n(28),l=n(29),f=n(30),c=n(15);a.getDefaultName=r,e.exports=a},function(e,t,n){function r(e){return"?"+s(e)}function a(e,t){function n(t,n){return f.is(t)?t:l(e,t,n)}if(o(e)||e===u||e===f)return e;var a=t||r(e),s=i(e);return n.meta={kind:"maybe",type:e,name:t,identity:s},n.displayName=a,n.is=function(t){return f.is(t)||c(t,e)},n}var o=(n(2),n(27),n(3),n(42)),i=n(28),u=n(8),l=n(29),f=n(22),c=(n(11),n(30)),s=n(12);a.getDefaultName=r,e.exports=a},function(e,t,n){var r=n(13);e.exports=function(e){return r(e)&&"maybe"===e.meta.kind}},function(e,t,n){function r(e){return"Struct"+s(e)}function a(e,t){return d(i,e,t)}function o(e){return l(e)||(e=f(e)?{}:{name:e}),e.hasOwnProperty("strict")||(e.strict=i.strict),e.hasOwnProperty("defaultProps")||(e.defaultProps={}),e}function i(e,t){function n(t,r){if(n.is(t))return t;if(!(this instanceof n))return new n(t,r);for(var a in e)if(e.hasOwnProperty(a)){var o=e[a],i=t[a];void 0===i&&(i=f[a]),this[a]=c(o,i,null)}}t=o(t);var i=t.name,l=t.strict,f=t.defaultProps,s=i||r(e);return n.meta={kind:"struct",props:e,name:i,identity:!1,strict:l,defaultProps:f},n.displayName=s,n.is=function(e){return e instanceof n},n.update=function(e,t){return new n(u.update(e,t))},n.extend=function(e,t){return a([n].concat(e),t)},n}var u=n(2),l=(n(27),n(33),n(21),n(18),n(14)),f=n(4),c=n(29),s=(n(12),n(35),n(44)),d=n(45);i.strict=!1,i.getOptions=o,i.getDefaultName=r,i.extend=a,e.exports=i},function(e,t,n){function r(e){return"{"+Object.keys(e).map(function(t){return t+": "+a(e[t])}).join(", ")+"}"}var a=n(12);e.exports=r},function(e,t,n){function r(e,t){return e.reduce(function(e,t){return c(e,t)},t)}function a(e){return f(e)?e:e.meta.props}function o(e){return f(e)?null:e.meta.defaultProps}function i(e,t){Array.prototype.push.apply(e,t)}function u(e,t,n){var u={},f={},c=[],d={};t.forEach(function(e,t){var n=s(e),r=n.unrefinedType;i(c,n.predicates),l(u,a(r)),l(f,r.prototype),l(d,o(r),!0)}),n=e.getOptions(n),n.defaultProps=l(d,n.defaultProps,!0);var p=r(c,e(u,n));return l(p.prototype,f),p}var l=(n(2),n(3),n(15),n(37)),f=(n(46),n(47),n(14)),c=n(26),s=n(48);e.exports=u},function(e,t,n){var r=n(13);e.exports=function(e){return r(e)&&"struct"===e.meta.kind}},function(e,t,n){var r=n(13);e.exports=function(e){return r(e)&&"interface"===e.meta.kind}},function(e,t,n){function r(e){return u(e)&&"subtype"===e.meta.kind}function a(e){return r(e)?[e.meta.predicate].concat(a(e.meta.type)):[]}function o(e){return r(e)?o(e.meta.type):e}function i(e){return{predicates:a(e),unrefinedType:o(e)}}var u=n(13);e.exports=i},function(e,t,n){function r(e){return"["+e.map(i).join(", ")+"]"}function a(e,t){function n(t,n){if(i)return t;for(var r=!0,a=[],o=0,u=e.length;o<u;o++){var l=e[o],c=t[o],s=f(l,c,null);r=r&&c===s,a.push(s)}return r&&(a=t),a}var a=t||r(e),i=e.every(u);return n.meta={kind:"tuple",types:e,name:t,identity:i},n.displayName=a,n.is=function(t){return l(t)&&t.length===e.length&&e.every(function(e,n){return c(t[n],e)})},n.update=function(e,t){return n(o.update(e,t))},n}var o=n(2),i=(n(27),n(3),n(12)),u=n(28),l=n(15),f=n(29),c=n(30);a.getDefaultName=r,e.exports=a},function(e,t,n){function r(e){return e.map(i).join(" | ")}function a(e,t){function n(e,t){if(i)return e;var r=n.dispatch(e);return!r&&n.is(e)?e:l(r,e,t)}var a=t||r(e),i=e.every(u);return n.meta={kind:"union",types:e,name:t,identity:i},n.displayName=a,n.is=function(t){return e.some(function(e){return f(t,e)})},n.dispatch=function(t){for(var n=0,r=e.length;n<r;n++){var a=e[n];if(c(a)){var o=a.dispatch(t);if(!s(o))return o}else if(f(t,a))return a}},n.update=function(e,t){return n(o.update(e,t))},n}var o=n(2),i=(n(27),n(3),n(12)),u=n(28),l=(n(15),n(29)),f=n(30),c=(n(11),n(38)),s=n(4);a.getDefaultName=r,e.exports=a},function(e,t,n){function r(e,t){return"("+e.map(d).join(", ")+") => "+d(t)}function a(e){return u.is(e)&&f(e.instrumentation)}function o(e){for(var t=e.length,n=!1,r=t-1;r>=0;r--){var a=e[r];if(!p(a)||"maybe"!==a.meta.kind)return r+1;n=!0}return n?0:t}function i(e,t,n){function u(e,t){return a(e)?e:u.of(e)}e=l(e)?e:[e];var f=n||r(e,t),d=e.length;o(e);return u.meta={kind:"func",domain:e,codomain:t,name:n,identity:!0},u.displayName=f,u.is=function(n){return a(n)&&n.instrumentation.domain.length===d&&n.instrumentation.domain.every(function(t,n){return t===e[n]})&&n.instrumentation.codomain===t},u.of=function(n,r){function a(){var a=Array.prototype.slice.call(arguments),o=a.length;if(r&&o<d){var u=Function.prototype.bind.apply(n,[this].concat(a)),l=i(e.slice(o),t);return l.of(u,!0)}return c(t,n.apply(this,a))}return u.is(n)?n:(a.instrumentation={domain:e,codomain:t,f:n},a.displayName=s(n),a)},u}var u=(n(2),n(27),n(21)),l=n(15),f=(n(40),n(14)),c=n(29),s=(n(4),n(18),n(49),n(7)),d=n(12),p=n(13);i.getDefaultName=r,i.getOptionalArgumentsIndex=o,e.exports=i},function(e,t,n){function r(e){return e.map(u).join(" & ")}function a(e,t){function n(e,t){return e}var a=t||r(e),u=e.every(l);return n.meta={kind:"intersection",types:e,name:t,identity:u},n.displayName=a,n.is=function(t){return e.every(function(e){return i(t,e)})},n.update=function(e,t){return n(o.update(e,t))},n}var o=n(2),i=(n(27),n(3),n(15),n(28),n(30)),u=n(12),l=n(28);a.getDefaultName=r,e.exports=a},function(e,t,n){function r(e,t){return p(o,e,t)}function a(e){return u(e)||(e=l(e)?{}:{name:e}),e.hasOwnProperty("strict")||(e.strict=o.strict),e}function o(e,t){function n(t,n){if(h)return t;var r=!0,a=h?{}:y({},t);for(var o in e){var i=e[o],u=t[o],l=f(i,u,null);r=r&&u===l,a[o]=l}return r&&(a=t),a}t=a(t);var o=t.name,u=t.strict,p=o||c(e),h=Object.keys(e).map(function(t){return e[t]}).every(s);return n.meta={kind:"interface",props:e,name:o,identity:h,strict:u},n.displayName=p,n.is=function(t){if(l(t))return!1;if(u)for(var n in t)if(!e.hasOwnProperty(n))return!1;for(var r in e)if(!d(t[r],e[r]))return!1;return!0},n.update=function(e,t){return n(i.update(e,t))},n.extend=function(e,t){return r([n].concat(e),t)},n}var i=n(2),u=(n(27),n(33),n(21),n(18),n(14)),l=n(4),f=n(29),c=(n(12),n(35),n(44)),s=n(28),d=n(30),p=n(45),y=n(54);o.strict=!1,o.getOptions=a,o.getDefaultName=c,o.extend=r,e.exports=o},function(e,t){function n(e,t){for(var n in t)e[n]=t[n];return e}e.exports=n},function(e,t,n){function r(e){return h(e)?e instanceof Date||e instanceof RegExp?e:v({},e):b(e)?e.concat():e}function a(e){return i.commands.hasOwnProperty(e)}function o(e){return i.commands[e]}function i(e,t){var n,u=e,l=!1;for(var f in t)t.hasOwnProperty(f)&&(a(f)?(n=o(f)(t[f],u),n!==e?(l=!0,u=n):u=e):(u===e&&(u=r(e)),n=i(u[f],t[f]),l=l||n!==u[f],u[f]=n));return l?u:e}function u(e,t){return e(t)}function l(e,t){return e.length>0?t.concat(e):t}function f(e,t){if(e.length>0){t=r(t);for(var n=0,a=e.length;n<a;n++)delete t[e[n]]}return t}function c(e){return e}function s(e,t){return e.length>0?(t=r(t),e.reduce(function(e,t){return e.splice.apply(e,t),e},t)):t}function d(e,t){if(e.from!==e.to){t=r(t);var n=t[e.to];t[e.to]=t[e.from],t[e.from]=n}return t}function p(e,t){return e.length>0?e.concat(t):t}function y(e,t){var n=!1,a=r(t);for(var o in e)e.hasOwnProperty(o)&&(a[o]=e[o],n=n||a[o]!==t[o]);return n?a:t}var h=(n(2),n(14)),b=(n(3),n(15)),v=(n(24),n(54));i.commands={$apply:u,$push:l,$remove:f,$set:c,$splice:s,$swap:d,$unshift:p,$merge:y},e.exports=i},function(e,t,n){var r=n(2),a=n(3),o=n(13),i=n(8);e.exports=function(e){for(var t,n,u,l=1,f=arguments.length;l<f;)if(t=arguments[l],n=arguments[l+1],u=arguments[l+2],a(u)&&!o(u)?l+=3:(u=n,n=i.is,l+=2),t.is(e)&&n(e))return u(e);r.fail("Match error")}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.connect=t.Provider=void 0;var a=n(223),o=r(a),i=n(226),u=r(i);t.Provider=o.default,t.connect=u.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t.default=void 0;var u=n(221),l=n(224),f=r(l),c=n(225),s=(r(c),function(e){function t(n,r){a(this,t);var i=o(this,e.call(this,n,r));return i.store=n.store,i}return i(t,e),t.prototype.getChildContext=function(){return{store:this.store}},t.prototype.render=function(){return u.Children.only(this.props.children)},t}(u.Component));t.default=s,s.propTypes={store:f.default.isRequired,children:u.PropTypes.element.isRequired},s.childContextTypes={store:f.default.isRequired}},function(e,t,n){"use strict";t.__esModule=!0;var r=n(221);t.default=r.PropTypes.shape({subscribe:r.PropTypes.func.isRequired,dispatch:r.PropTypes.func.isRequired,getState:r.PropTypes.func.isRequired})},function(e,t){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}t.__esModule=!0,t.default=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return e.displayName||e.name||"Component"}function l(e,t){try{return e.apply(t)}catch(e){return P.value=e,P}}function f(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},f=Boolean(e),d=e||A,y=void 0;y="function"==typeof t?t:t?(0,v.default)(t):k;var b=n||E,m=r.pure,T=void 0===m||m,g=r.withRef,w=void 0!==g&&g,x=T&&b!==E,C=O++;return function(e){function t(e,t,n){var r=b(e,t,n);return r}var n="Connect("+u(e)+")",r=function(r){function u(e,t){a(this,u);var i=o(this,r.call(this,e,t));i.version=C,i.store=e.store||t.store,(0,S.default)(i.store,'Could not find "store" in either the context or '+('props of "'+n+'". ')+"Either wrap the root component in a <Provider>, "+('or explicitly pass "store" as a prop to "'+n+'".'));var l=i.store.getState();return i.state={storeState:l},i.clearCache(),i}return i(u,r),u.prototype.shouldComponentUpdate=function(){return!T||this.haveOwnPropsChanged||this.hasStoreStateChanged},u.prototype.computeStateProps=function(e,t){if(!this.finalMapStateToProps)return this.configureFinalMapState(e,t);var n=e.getState(),r=this.doStatePropsDependOnOwnProps?this.finalMapStateToProps(n,t):this.finalMapStateToProps(n);return r},u.prototype.configureFinalMapState=function(e,t){var n=d(e.getState(),t),r="function"==typeof n;return this.finalMapStateToProps=r?n:d,this.doStatePropsDependOnOwnProps=1!==this.finalMapStateToProps.length,r?this.computeStateProps(e,t):n},u.prototype.computeDispatchProps=function(e,t){if(!this.finalMapDispatchToProps)return this.configureFinalMapDispatch(e,t);var n=e.dispatch,r=this.doDispatchPropsDependOnOwnProps?this.finalMapDispatchToProps(n,t):this.finalMapDispatchToProps(n);return r},u.prototype.configureFinalMapDispatch=function(e,t){var n=y(e.dispatch,t),r="function"==typeof n;return this.finalMapDispatchToProps=r?n:y,this.doDispatchPropsDependOnOwnProps=1!==this.finalMapDispatchToProps.length,r?this.computeDispatchProps(e,t):n},u.prototype.updateStatePropsIfNeeded=function(){var e=this.computeStateProps(this.store,this.props);return(!this.stateProps||!(0,h.default)(e,this.stateProps))&&(this.stateProps=e,!0)},u.prototype.updateDispatchPropsIfNeeded=function(){var e=this.computeDispatchProps(this.store,this.props);return(!this.dispatchProps||!(0,h.default)(e,this.dispatchProps))&&(this.dispatchProps=e,!0)},u.prototype.updateMergedPropsIfNeeded=function(){var e=t(this.stateProps,this.dispatchProps,this.props);return!(this.mergedProps&&x&&(0,h.default)(e,this.mergedProps))&&(this.mergedProps=e,!0)},u.prototype.isSubscribed=function(){return"function"==typeof this.unsubscribe},u.prototype.trySubscribe=function(){f&&!this.unsubscribe&&(this.unsubscribe=this.store.subscribe(this.handleChange.bind(this)),this.handleChange())},u.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},u.prototype.componentDidMount=function(){this.trySubscribe()},u.prototype.componentWillReceiveProps=function(e){T&&(0,h.default)(e,this.props)||(this.haveOwnPropsChanged=!0)},u.prototype.componentWillUnmount=function(){this.tryUnsubscribe(),this.clearCache()},u.prototype.clearCache=function(){this.dispatchProps=null,this.stateProps=null,this.mergedProps=null,this.haveOwnPropsChanged=!0,this.hasStoreStateChanged=!0,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,this.renderedElement=null,this.finalMapDispatchToProps=null,this.finalMapStateToProps=null},u.prototype.handleChange=function(){if(this.unsubscribe){var e=this.store.getState(),t=this.state.storeState;if(!T||t!==e){if(T&&!this.doStatePropsDependOnOwnProps){var n=l(this.updateStatePropsIfNeeded,this);if(!n)return;n===P&&(this.statePropsPrecalculationError=P.value),this.haveStatePropsBeenPrecalculated=!0}this.hasStoreStateChanged=!0,this.setState({storeState:e})}}},u.prototype.getWrappedInstance=function(){return(0,S.default)(w,"To access the wrapped instance, you need to specify { withRef: true } as the fourth argument of the connect() call."),this.refs.wrappedInstance},u.prototype.render=function(){var t=this.haveOwnPropsChanged,n=this.hasStoreStateChanged,r=this.haveStatePropsBeenPrecalculated,a=this.statePropsPrecalculationError,o=this.renderedElement;if(this.haveOwnPropsChanged=!1,this.hasStoreStateChanged=!1,this.haveStatePropsBeenPrecalculated=!1,this.statePropsPrecalculationError=null,a)throw a;var i=!0,u=!0;T&&o&&(i=n||t&&this.doStatePropsDependOnOwnProps,u=t&&this.doDispatchPropsDependOnOwnProps);var l=!1,f=!1;r?l=!0:i&&(l=this.updateStatePropsIfNeeded()),u&&(f=this.updateDispatchPropsIfNeeded());var d=!0;return d=!!(l||f||t)&&this.updateMergedPropsIfNeeded(),!d&&o?o:(w?this.renderedElement=(0,s.createElement)(e,c({},this.mergedProps,{ref:"wrappedInstance"})):this.renderedElement=(0,s.createElement)(e,this.mergedProps),this.renderedElement)},u}(s.Component);return r.displayName=n,r.WrappedComponent=e,r.contextTypes={store:p.default},r.propTypes={store:p.default},(0,_.default)(r,e)}}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=f;var s=n(221),d=n(224),p=r(d),y=n(227),h=r(y),b=n(228),v=r(b),m=n(225),T=(r(m),n(231)),g=(r(T),n(244)),_=r(g),w=n(245),S=r(w),A=function(e){return{}},k=function(e){return{dispatch:e}},E=function(e,t,n){return c({},n,e,t)},P={value:null},O=0},function(e,t){"use strict";function n(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=Object.prototype.hasOwnProperty,o=0;o<n.length;o++)if(!a.call(t,n[o])||e[n[o]]!==t[n[o]])return!1;return!0}t.__esModule=!0,t.default=n},function(e,t,n){"use strict";function r(e){return function(t){return(0,a.bindActionCreators)(e,t)}}t.__esModule=!0,t.default=r;var a=n(229)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.compose=t.applyMiddleware=t.bindActionCreators=t.combineReducers=t.createStore=void 0;var a=n(230),o=r(a),i=n(239),u=r(i),l=n(241),f=r(l),c=n(242),s=r(c),d=n(243),p=r(d),y=n(240);r(y);t.createStore=o.default,t.combineReducers=u.default,t.bindActionCreators=f.default,t.applyMiddleware=s.default,t.compose=p.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){function r(){v===b&&(v=b.slice())}function o(){return h}function u(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return r(),v.push(e),function(){if(t){t=!1,r();var n=v.indexOf(e);v.splice(n,1)}}}function c(e){if(!(0,i.default)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(m)throw new Error("Reducers may not dispatch actions.");try{m=!0,h=y(h,e)}finally{m=!1}for(var t=b=v,n=0;n<t.length;n++)t[n]();return e}function s(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");y=e,c({type:f.INIT})}function d(){var e,t=u;return e={subscribe:function(e){function n(){e.next&&e.next(o())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");n();var r=t(n);return{unsubscribe:r}}},e[l.default]=function(){return this},e}var p;if("function"==typeof t&&"undefined"==typeof n&&(n=t,t=void 0),"undefined"!=typeof n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(a)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var y=e,h=t,b=[],v=b,m=!1;return c({type:f.INIT}),p={dispatch:c,subscribe:u,getState:o,replaceReducer:s},p[l.default]=d,p}t.__esModule=!0,t.ActionTypes=void 0,t.default=a;var o=n(231),i=r(o),u=n(235),l=r(u),f=t.ActionTypes={INIT:"@@redux/INIT"}},function(e,t,n){function r(e){if(!o(e)||d.call(e)!=i)return!1;var t=a(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&f.call(n)==s}var a=n(232),o=n(234),i="[object Object]",u=Function.prototype,l=Object.prototype,f=u.toString,c=l.hasOwnProperty,s=f.call(Object),d=l.toString;e.exports=r},function(e,t,n){var r=n(233),a=r(Object.getPrototypeOf,Object);e.exports=a},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(e,t,n){e.exports=n(236)},function(e,t,n){(function(e,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o,i=n(238),u=a(i);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof e?e:r;var l=(0,u.default)(o);t.default=l}).call(t,function(){return this}(),n(237)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){"use strict";function n(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=t&&t.type,r=n&&'"'+n.toString()+'"'||"an action";return"Given action "+r+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function o(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:u.ActionTypes.INIT});if("undefined"==typeof r)throw new Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var a="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof n(void 0,{type:a}))throw new Error('Reducer "'+t+'" returned undefined when probed with a random type. '+("Don't try to handle "+u.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function i(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];"function"==typeof e[i]&&(n[i]=e[i])}var u,l=Object.keys(n);try{o(n)}catch(e){u=e}return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];if(u)throw u;for(var r=!1,o={},i=0;i<l.length;i++){var f=l[i],c=n[f],s=e[f],d=c(s,t);if("undefined"==typeof d){var p=a(f,t);throw new Error(p)}o[f]=d,r=r||d!==s}return r?o:e}}t.__esModule=!0,t.default=i;var u=n(230),l=n(231),f=(r(l),n(240));r(f)},function(e,t){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}t.__esModule=!0,t.default=n},function(e,t){"use strict";function n(e,t){return function(){return t(e.apply(void 0,arguments))}}function r(e,t){if("function"==typeof e)return n(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(e),a={},o=0;o<r.length;o++){var i=r[o],u=e[i];"function"==typeof u&&(a[i]=n(u,t))}return a}t.__esModule=!0,t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,a){var i=e(n,r,a),l=i.dispatch,f=[],c={getState:i.getState,dispatch:function(e){return l(e)}};return f=t.map(function(e){return e(c)}),l=u.default.apply(void 0,f)(i.dispatch),o({},i,{dispatch:l})}}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=a;var i=n(243),u=r(i)},function(e,t){"use strict";function n(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return function(e){return e};if(1===t.length)return t[0];var r=t[t.length-1],a=t.slice(0,-1);return function(){return a.reduceRight(function(e,t){return t(e)},r.apply(void 0,arguments))}}t.__esModule=!0,t.default=n},function(e,t){"use strict";var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},a="function"==typeof Object.getOwnPropertySymbols;e.exports=function(e,t,o){if("string"!=typeof t){var i=Object.getOwnPropertyNames(t);a&&(i=i.concat(Object.getOwnPropertySymbols(t)));for(var u=0;u<i.length;++u)if(!(n[i[u]]||r[i[u]]||o&&o[i[u]]))try{e[i[u]]=t[i[u]]}catch(e){}}return e}},function(e,t,n){"use strict";var r=function(e,t,n,r,a,o,i,u){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[n,r,a,o,i,u],c=0;l=new Error(t.replace(/%s/g,function(){return f[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}};e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=o({},f.default,e),n=t.logger,r=t.transformer,a=t.stateTransformer,l=t.errorTransformer,c=t.predicate,s=t.logErrors,d=t.diffPredicate;if("undefined"==typeof n)return function(){return function(e){return function(t){return e(t)}}};r&&console.error("Option 'transformer' is deprecated, use 'stateTransformer' instead!");var p=[];return function(e){var n=e.getState;return function(e){return function(r){if("function"==typeof c&&!c(n,r))return e(r);var f={};p.push(f),f.started=u.timer.now(),f.startedTime=new Date,f.prevState=a(n()),f.action=r;var y=void 0;if(s)try{y=e(r)}catch(e){f.error=l(e)}else y=e(r);f.took=u.timer.now()-f.started,f.nextState=a(n());var h=t.diff&&"function"==typeof d?d(n,r):t.diff;if((0,i.printBuffer)(p,o({},t,{diff:h})),p.length=0,f.error)throw f.error;return y}}}}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(247),u=n(248),l=n(251),f=r(l);t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function i(e,t,n,r){switch("undefined"==typeof e?"undefined":o(e)){case"object":return"function"==typeof e[r]?e[r].apply(e,a(n)):e[r];case"function":return e(t);default:return e}}function u(e){var t=e.timestamp,n=e.duration;return function(e,r,a){var o=["action"];return t&&o.push("@ "+r),o.push(e.type),n&&o.push("(in "+a.toFixed(2)+" ms)"),o.join(" ")}}function l(e,t){var n=t.logger,r=t.actionTransformer,a=t.titleFormatter,o=void 0===a?u(t):a,l=t.collapsed,c=t.colors,d=t.level,p=t.diff;e.forEach(function(t,a){var u=t.started,y=t.startedTime,h=t.action,b=t.prevState,v=t.error,m=t.took,T=t.nextState,g=e[a+1];g&&(T=g.prevState,m=g.started-u);var _=r(h),w="function"==typeof l?l(function(){return T},h):l,S=(0,f.formatTime)(y),A=c.title?"color: "+c.title(_)+";":null,k=o(_,S,m);try{w?c.title?n.groupCollapsed("%c "+k,A):n.groupCollapsed(k):c.title?n.group("%c "+k,A):n.group(k);
}catch(e){n.log(k)}var E=i(d,_,[b],"prevState"),P=i(d,_,[_],"action"),O=i(d,_,[v,b],"error"),x=i(d,_,[T],"nextState");E&&(c.prevState?n[E]("%c prev state","color: "+c.prevState(b)+"; font-weight: bold",b):n[E]("prev state",b)),P&&(c.action?n[P]("%c action","color: "+c.action(_)+"; font-weight: bold",_):n[P]("action",_)),v&&O&&(c.error?n[O]("%c error","color: "+c.error(v,b)+"; font-weight: bold",v):n[O]("error",v)),x&&(c.nextState?n[x]("%c next state","color: "+c.nextState(T)+"; font-weight: bold",T):n[x]("next state",T)),p&&(0,s.default)(b,T,n,w);try{n.groupEnd()}catch(e){n.log("—— log end ——")}})}Object.defineProperty(t,"__esModule",{value:!0}),t.printBuffer=l;var f=n(248),c=n(249),s=r(c)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.repeat=function(e,t){return new Array(t+1).join(e)},r=t.pad=function(e,t){return n("0",t-e.toString().length)+e};t.formatTime=function(e){return r(e.getHours(),2)+":"+r(e.getMinutes(),2)+":"+r(e.getSeconds(),2)+"."+r(e.getMilliseconds(),3)},t.timer="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return"color: "+f[e].color+"; font-weight: bold"}function o(e){var t=e.kind,n=e.path,r=e.lhs,a=e.rhs,o=e.index,i=e.item;switch(t){case"E":return n.join(".")+" "+r+" → "+a;case"N":return n.join(".")+" "+a;case"D":return""+n.join(".");case"A":return[n.join(".")+"["+o+"]",i];default:return null}}function i(e,t,n,r){var i=(0,l.default)(e,t);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}i?i.forEach(function(e){var t=e.kind,r=o(e);n.log("%c "+f[t].text,a(t),r)}):n.log("—— no diff ——");try{n.groupEnd()}catch(e){n.log("—— diff end —— ")}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var u=n(250),l=r(u),f={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}};e.exports=t.default},function(e,t,n){var r,a;(function(n){!function(n,o){"use strict";r=[],a=function(){return o()}.apply(t,r),!(void 0!==a&&(e.exports=a))}(this,function(e){"use strict";function t(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function r(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function a(e,t,n){a.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function o(e,t){o.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function i(e,t){i.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function u(e,t,n){u.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function l(e,t,n){var r=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r),e}function f(e){var t=typeof e;return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"undefined"!=typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function c(t,n,r,s,d,p,y){d=d||[];var h=d.slice(0);if("undefined"!=typeof p){if(s){if("function"==typeof s&&s(h,p))return;if("object"==typeof s){if(s.prefilter&&s.prefilter(h,p))return;if(s.normalize){var b=s.normalize(h,p,t,n);b&&(t=b[0],n=b[1])}}}h.push(p)}"regexp"===f(t)&&"regexp"===f(n)&&(t=t.toString(),n=n.toString());var v=typeof t,m=typeof n;if("undefined"===v)"undefined"!==m&&r(new o(h,n));else if("undefined"===m)r(new i(h,t));else if(f(t)!==f(n))r(new a(h,t,n));else if("[object Date]"===Object.prototype.toString.call(t)&&"[object Date]"===Object.prototype.toString.call(n)&&t-n!==0)r(new a(h,t,n));else if("object"===v&&null!==t&&null!==n){if(y=y||[],y.indexOf(t)<0){if(y.push(t),Array.isArray(t)){var T;t.length;for(T=0;T<t.length;T++)T>=n.length?r(new u(h,T,new i(e,t[T]))):c(t[T],n[T],r,s,h,T,y);for(;T<n.length;)r(new u(h,T,new o(e,n[T++])))}else{var g=Object.keys(t),_=Object.keys(n);g.forEach(function(a,o){var i=_.indexOf(a);i>=0?(c(t[a],n[a],r,s,h,a,y),_=l(_,i)):c(t[a],e,r,s,h,a,y)}),_.forEach(function(t){c(e,n[t],r,s,h,t,y)})}y.length=y.length-1}}else t!==n&&("number"===v&&isNaN(t)&&isNaN(n)||r(new a(h,t,n)))}function s(t,n,r,a){return a=a||[],c(t,n,function(e){e&&a.push(e)},r),a.length?a:e}function d(e,t,n){if(n.path&&n.path.length){var r,a=e[t],o=n.path.length-1;for(r=0;r<o;r++)a=a[n.path[r]];switch(n.kind){case"A":d(a[n.path[r]],n.index,n.item);break;case"D":delete a[n.path[r]];break;case"E":case"N":a[n.path[r]]=n.rhs}}else switch(n.kind){case"A":d(e[t],n.index,n.item);break;case"D":e=l(e,t);break;case"E":case"N":e[t]=n.rhs}return e}function p(e,t,n){if(e&&t&&n&&n.kind){for(var r=e,a=-1,o=n.path?n.path.length-1:0;++a<o;)"undefined"==typeof r[n.path[a]]&&(r[n.path[a]]="number"==typeof n.path[a]?[]:{}),r=r[n.path[a]];switch(n.kind){case"A":d(n.path?r[n.path[a]]:r,n.index,n.item);break;case"D":delete r[n.path[a]];break;case"E":case"N":r[n.path[a]]=n.rhs}}}function y(e,t,n){if(n.path&&n.path.length){var r,a=e[t],o=n.path.length-1;for(r=0;r<o;r++)a=a[n.path[r]];switch(n.kind){case"A":y(a[n.path[r]],n.index,n.item);break;case"D":a[n.path[r]]=n.lhs;break;case"E":a[n.path[r]]=n.lhs;break;case"N":delete a[n.path[r]]}}else switch(n.kind){case"A":y(e[t],n.index,n.item);break;case"D":e[t]=n.lhs;break;case"E":e[t]=n.lhs;break;case"N":e=l(e,t)}return e}function h(e,t,n){if(e&&t&&n&&n.kind){var r,a,o=e;for(a=n.path.length-1,r=0;r<a;r++)"undefined"==typeof o[n.path[r]]&&(o[n.path[r]]={}),o=o[n.path[r]];switch(n.kind){case"A":y(o[n.path[r]],n.index,n.item);break;case"D":o[n.path[r]]=n.lhs;break;case"E":o[n.path[r]]=n.lhs;break;case"N":delete o[n.path[r]]}}}function b(e,t,n){if(e&&t){var r=function(r){n&&!n(e,t,r)||p(e,t,r)};c(e,t,r)}}var v,m,T=[];return v="object"==typeof n&&n?n:"undefined"!=typeof window?window:{},m=v.DeepDiff,m&&T.push(function(){"undefined"!=typeof m&&v.DeepDiff===s&&(v.DeepDiff=m,m=e)}),t(a,r),t(o,r),t(i,r),t(u,r),Object.defineProperties(s,{diff:{value:s,enumerable:!0},observableDiff:{value:c,enumerable:!0},applyDiff:{value:b,enumerable:!0},applyChange:{value:p,enumerable:!0},revertChange:{value:h,enumerable:!0},isConflict:{value:function(){return"undefined"!=typeof m},enumerable:!0},noConflict:{value:function(){return T&&(T.forEach(function(e){e()}),T=null),s},enumerable:!0}}),s})}).call(t,function(){return this}())},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TState=t.TSelected=t.TTco=t.TLinkState=t.TTableState=t.TDndTarget=t.TDndTargetType=void 0;var a=n(1),o=r(a),i=n(253),u=n(255),l=n(256),f=(t.TDndTargetType=o.default.enums.of(["TABLE"],"TDndTargetType"),t.TDndTarget=o.default.union([o.default.refinement(o.default.Boolean,function(e){return e===!1}),o.default.interface({type:o.default.enums.of(["TABLE"]),table:o.default.String,lastPoint:l.TPoint}),o.default.interface({type:o.default.enums.of(["ATTR"]),attr:o.default.String,table:o.default.String,lastPoint:l.TPoint})],"TDndTarget")),c=t.TTableState=o.default.interface({table:i.TTable,position:l.TPoint},"TTableState"),s=(t.TLinkState=o.default.interface({link:u.TLink},"TLinkState"),t.TTco=o.default.union([o.default.refinement(o.default.Boolean,function(e){return e===!1}),o.default.interface({type:o.default.enums.of(["ADD_LINK"]),table:o.default.String,attr:o.default.String})],"TTco")),d=t.TSelected=o.default.union([o.default.refinement(o.default.Boolean,function(e){return e===!1}),o.default.interface({type:o.default.enums.of(["TABLE"]),table:o.default.String}),o.default.interface({type:o.default.enums.of(["ATTR"]),table:o.default.String,attr:o.default.String}),o.default.interface({type:o.default.enums.of(["LINK"]),from:o.default.interface({table:o.default.String,attr:o.default.String}),to:o.default.interface({table:o.default.String,attr:o.default.String})})],"TSelected");t.TState=o.default.interface({tables:o.default.list(c),selected:d,mousePosition:l.TPoint,dnd:f,tco:s},"TState")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TTable=t.TForeignKey=void 0;var a=n(1),o=r(a),i=n(254),u=t.TForeignKey=o.default.interface({from:o.default.interface({attr:o.default.String}),to:o.default.interface({table:o.default.String,attr:o.default.String})},"TForeignKey");t.TTable=o.default.interface({name:o.default.String,attrs:o.default.list(i.TAttr),foreignKeys:o.default.list(u)},"TTable")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return i.default.isType(t)&&"struct"!==t.meta.kind?t.is(e)||t(e,[n+": "+i.default.getTypeName(t)]):e instanceof t||i.default.fail("Invalid value "+i.default.stringify(e)+" supplied to "+n+" (expected a "+i.default.getTypeName(t)+")"),e}Object.defineProperty(t,"__esModule",{value:!0}),t.equals=t.TAttr=void 0;var o=n(1),i=r(o),u=t.TAttr=i.default.interface({name:i.default.String},"TAttr");t.equals=function(e,t){return a(e,u,"x"),a(t,u,"y"),e.name===t.name}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TLink=void 0;var a=n(1),o=r(a);t.TLink=o.default.interface({from:o.default.interface({table:o.default.String,attr:o.default.String}),to:o.default.interface({table:o.default.String,attr:o.default.String})},"TLink")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TPoint=void 0;var a=n(1),o=r(a);t.TPoint=o.default.interface({x:o.default.Number,y:o.default.Number},"TPoint")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TAction=void 0;var a=n(1),o=r(a),i=n(256),u=n(254),l=n(253),f=o.default.interface({type:o.default.enums.of(["@@redux/INIT"])},"TActionInit"),c=o.default.union([o.default.interface({type:o.default.enums.of(["TABLE"]),table:o.default.String}),o.default.interface({type:o.default.enums.of(["ATTR"]),attr:o.default.String,table:o.default.String})],"TDndAttrs"),s=o.default.interface({type:o.default.enums.of(["ADD_LINK"]),table:o.default.String,attr:o.default.String},"TTcoAttrs");t.TAction=o.default.union([f,o.default.interface({type:o.default.enums.of(["SELECT"]),target:o.default.enums.of(["TABLE"]),table:o.default.String}),o.default.interface({type:o.default.enums.of(["SELECT"]),target:o.default.enums.of(["ATTR"]),table:o.default.String,attr:o.default.String}),o.default.interface({type:o.default.enums.of(["CANCEL_SELECT"])}),o.default.interface({type:o.default.enums.of(["MOVE_TABLE"]),table:o.default.String,position:i.TPoint}),o.default.interface({type:o.default.enums.of(["SWITCH_ATTRS"]),table:o.default.String,attr1:o.default.String,attr2:o.default.String}),o.default.interface({type:o.default.enums.of(["START_DND"]),attrs:c,startPoint:i.TPoint}),o.default.interface({type:o.default.enums.of(["UPDATE_DND"]),lastPoint:i.TPoint}),o.default.interface({type:o.default.enums.of(["STOP_DND"]),point:i.TPoint}),o.default.interface({type:o.default.enums.of(["MOUSE_MOVE"]),point:i.TPoint}),o.default.interface({type:o.default.enums.of(["START_TCO"]),attrs:s}),o.default.interface({type:o.default.enums.of(["STOP_TCO"])}),o.default.interface({type:o.default.enums.of(["ADD_LINK"]),from:o.default.interface({table:o.default.String,attr:o.default.String}),to:o.default.interface({table:o.default.String,attr:o.default.String})}),o.default.interface({type:o.default.enums.of(["ADD_ATTR"]),table:o.default.String,attr:u.TAttr}),o.default.interface({type:o.default.enums.of(["ADD_TABLE"]),table:l.TTable}),o.default.interface({type:o.default.enums.of(["DELETE_LINK"]),table:o.default.String,attr:o.default.String}),o.default.interface({type:o.default.enums.of(["DELETE_ATTR"]),table:o.default.String,attr:o.default.String}),o.default.interface({type:o.default.enums.of(["DELETE_TABLE"]),table:o.default.String})],"TAction")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TBounds=void 0;var a=n(1),o=r(a);t.TBounds=o.default.interface({x:o.default.Number,y:o.default.Number,width:o.default.Number,height:o.default.Number},"TBounds")},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,n){return d.default.isType(t)&&"struct"!==t.meta.kind?t.is(e)||t(e,[n+": "+d.default.getTypeName(t)]):e instanceof t||d.default.fail("Invalid value "+d.default.stringify(e)+" supplied to "+n+" (expected a "+d.default.getTypeName(t)+")"),e}Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(1),d=a(s),p=n(221),y=a(p),h=n(222),b=n(229),v=r(b),m=n(260),T=r(m),g=n(261),_=r(g),w=n(263),S=r(w),A=n(252),k=r(A),E=r(A),P=n(257),O=r(P),x=n(254),C=r(x),M=n(258),D=r(M),j=n(256),N=r(j),L=n(253),F=r(L),B=n(262),I=r(B),R=n(272),z=r(R),K=n(274),U=a(K),W=n(280),H=a(W),q=n(282),X=a(q),Y=n(283),$=r(Y),G=n(285),V=r(G),J=n(287),Q=v.Dispatch||d.default.Any,Z=(v.Store||d.default.Any,T.TTableShape||d.default.Any),ee=_.TLinkShape||d.default.Any,te=(S.TWorkareaStyle||d.default.Any,k.TState||d.default.Any),ne=k.TTableState||d.default.Any,re=(k.TLinkState||d.default.Any,O.TAction||d.default.Any,C.TAttr||d.default.Any),ae=D.TBounds||d.default.Any,oe=N.TPoint||d.default.Any,ie=F.TTable||d.default.Any,ue=I.TPath||d.default.Any,le=z.TWorkareaMetrics||d.default.Any,fe=E.TSelected||d.default.Any,ce=function(e,t){l(e,ae,"b1"),l(t,ae,"b2");var n=function(e,t){var n=null,r=null;e.x<t.x?(n={x:e.x+e.width,y:e.y+e.height/2},r={x:t.x,y:t.y+t.height/2}):(n={x:e.x,y:e.y+e.height/2},r={x:t.x+t.width,y:t.y+t.height/2});var a=n,o=r,i={x:a.x+(o.x-a.x)/2,y:a.y},u={x:i.x,y:o.y};return[n,i,u,r]}.call(void 0,e,t);return l(n,d.default.list(oe),"return value"),n},se=function(e){l(e,te,"state");var t=function(e){var t=this,n=e.tables,r=e.dnd,a=e.tco,o=e.mousePosition,i=V.workarea(e),u=null;a!==!1&&"ADD_LINK"===a.type&&!function(){var e=a.table,t=a.attr,r=n.filter(function(t){return t.table.name===e})[0];if(!r)throw new Error('Table "'+e+"\" doesn't exists, unable to draw link");var l=r.table.attrs.filter(function(e){return e.name===t})[0];if(!l)throw new Error('Attribute "'+e+"."+t+"\" doesn't exists, unable to draw link");var f=i.tables.filter(function(e){var t=e.name;return t===r.table.name})[0].metrics,s=$.getAttrBounds(f,r.position,l.name);if(!s)throw new Error('Unable to get attribue bounds for\n                 attribute "'+e+"."+t+'": attribute doesnt exists');var d=c({},o,{width:0,height:0});u=ce(s,d)}();var f=e.tables.map(function(e){var t=e.table;return t.foreignKeys.map(function(e){var n=e.from,r=e.to;return{from:c({},n,{table:t.name}),to:r}}).map(function(e){var t=e.from,r=e.to,a=n.filter(function(e){return e.table.name===t.table})[0];if(!a)throw new Error('Table "'+t.table+"\" doesn't exists, unable to draw link");var o=n.filter(function(e){return e.table.name===r.table})[0];if(!o)throw new Error('Table "'+r.table+"\" doesn't exists, unable to draw link");var u=a.table.attrs.filter(function(e){return e.name===t.attr})[0];if(!u)throw new Error('Attribute "'+t.table+"."+t.attr+"\" doesn't exists, unable to draw link");var l=o.table.attrs.filter(function(e){return e.name===r.attr})[0];if(!l)throw new Error('Attribute "'+r.table+"."+r.attr+"\" doesn't exists, unable to draw link");var f=i.tables.filter(function(e){var t=e.name;return t===a.table.name})[0].metrics,c=i.tables.filter(function(e){var t=e.name;return t===o.table.name})[0].metrics,s={x:a.position.x,y:a.position.y},d={x:o.position.x,y:o.position.y},p=$.getAttrBounds(f,s,u.name);if(!p)throw new Error('Unable to get attribue bounds for\n                 attribute "'+t.table+"."+t.attr+'": attribute doesnt exists');var y=$.getAttrBounds(c,d,l.name);if(!y)throw new Error('Unable to get attribue bounds for\n                 attribute "'+r.table+"."+r.attr+'": attribute doesnt exists');var h=ce(p,y);return{link:e,path:h}})}).reduce(function(e,t){return e.concat(t)},[]);return{metrics:i,selected:e.selected,tables:e.tables.map(function(e){l(e,ne,"tableState");var n=function(e){return e}.call(t,e);return l(n,Z,"return value"),n}),newLink:u,links:f,dnd:r,tco:a}}.call(void 0,e);return l(t,d.default.Any,"return value"),t},de=function(e){l(e,Q,"dispatch");var t=function(e){return{dispatch:e,onTableClick:function(t){l(t,Z,"tableShape"),e({type:"SELECT",target:"TABLE",table:t.table.name})},onTableMouseDown:function(t,n){l(t,Z,"tableShape"),l(n,oe,"point"),e({type:"START_DND",attrs:{type:"TABLE",table:t.table.name},startPoint:n})},onMouseUp:function(t){l(t,oe,"point"),e({type:"STOP_DND",point:t})},onAttrMouseDown:function(t,n,r){l(t,Z,"tableShape"),l(n,re,"attr"),l(r,oe,"point"),e({type:"START_DND",attrs:{type:"ATTR",attr:n.name,table:t.table.name},startPoint:r})},onLinkAddClick:function(t,n){l(t,Z,"tableShape"),l(n,re,"attr"),e({type:"START_TCO",attrs:{type:"ADD_LINK",attr:n.name,table:t.table.name}})},onLinkDeleteClick:function(t,n){l(t,Z,"tableShape"),l(n,re,"attr"),e({type:"DELETE_LINK",attr:n.name,table:t.table.name})},onAttrDeleteClick:function(t,n){l(t,Z,"tableShape"),l(n,re,"attr"),e({type:"DELETE_ATTR",attr:n.name,table:t.table.name})},onTableDeleteClick:function(t){l(t,Z,"tableShape"),e({type:"DELETE_TABLE",table:t.table.name})}}}.call(void 0,e);return l(t,d.default.Any,"return value"),t},pe=function(e,t){var n=function(e,t){var n=e.tco,r=e.dnd,a=e.tables,o=e.metrics,i=t.dispatch;return c({},e,t,{onWorkareaClick:function(){i(n!==!1?{type:"STOP_TCO"}:{type:"CANCEL_SELECT"})},onMouseMove:function(e){l(e,oe,"point"),i({type:"MOUSE_MOVE",point:e}),r!==!1&&("TABLE"===r.type?!function(){var t=r.lastPoint,n=r.table,o=a.filter(function(e){return e.table.name===n})[0];if(o){var u={x:e.x-t.x,y:e.y-t.y};i({type:"MOVE_TABLE",table:n,position:{x:o.position.x+u.x,y:o.position.y+u.y}})}}():"ATTR"===r.type&&!function(){var t=r.attr,n=r.table,u=a.filter(function(e){return e.table.name===n})[0],l=o.tables.filter(function(e){var t=e.name;return t===n})[0].metrics,f=u.table.attrs.filter(function(t){var n=t.name,r=(0,Y.getAttrBounds)(l,u.position,n);return!!r&&(e.y>r.y&&e.y<r.y+r.height&&e.x>r.x&&e.x<r.x+r.width)})[0];f&&f.name!==t&&i({type:"SWITCH_ATTRS",table:n,attr1:t,attr2:f.name})}(),i({type:"UPDATE_DND",lastPoint:e}))},onAttrClick:function(e,t){l(e,Z,"tableShape"),l(t,re,"attr"),n!==!1?"ADD_LINK"===n.type&&(i({type:"STOP_TCO"}),i({type:"ADD_LINK",from:{table:n.table,attr:n.attr},to:{table:e.table.name,attr:t.name}})):i({type:"SELECT",target:"ATTR",table:e.table.name,attr:t.name})},onAttrCreate:function(e,t){l(e,d.default.String,"table"),l(t,re,"attr"),i({type:"ADD_ATTR",table:e,attr:t})},onTableCreate:function(e){l(e,ie,"table"),i({type:"ADD_TABLE",table:e})}})}.call(void 0,e,t);return l(n,d.default.Any,"return value"),n};d.default.interface({tables:d.default.list(Z),links:d.default.list(ee),newLink:d.default.maybe(ue),metrics:le,selected:fe,onTableClick:d.default.Function,onTableDeleteClick:d.default.Function,onWorkareaClick:d.default.Function,onTableMouseDown:d.default.Function,onAttrClick:d.default.Function,onLinkAddClick:d.default.Function,onLinkDeleteClick:d.default.Function,onAttrDeleteClick:d.default.Function,onAttrMouseDown:d.default.Function,onAttrCreate:d.default.Function,onTableCreate:d.default.Function,onMouseMove:d.default.Function,onMouseUp:d.default.Function},"TProps"),d.default.interface({attrCreateModal:d.default.union([d.default.refinement(d.default.Boolean,function(e){return e===!1}),d.default.interface({table:d.default.String})]),tableCreateModal:d.default.Boolean},"TRootState");t.default=(0,h.connect)(se,de,pe)(function(e){function t(){var e,n,r,a;o(this,t);for(var u=arguments.length,f=Array(u),c=0;c<u;c++)f[c]=arguments[c];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(f))),r.state={attrCreateModal:!1,tableCreateModal:!1},r.handleAttrCreateClick=function(e){l(e,Z,"tableShape"),r.setState({attrCreateModal:{table:e.table.name}})},r.handleAttrCreate=function(e,t){l(e,d.default.String,"table"),l(t,re,"attr"),r.setState({attrCreateModal:!1},function(){r.props.onAttrCreate(e,t)})},r.handleAttrCancel=function(){r.setState({attrCreateModal:!1})},r.handleTableCreateClick=function(){r.setState({tableCreateModal:!0})},r.handleTableCreate=function(e){l(e,ie,"table"),r.setState({tableCreateModal:!1},function(){r.props.onTableCreate(e)})},r.handleTableCancel=function(){r.setState({tableCreateModal:!1})},r.exportToPng=function(){var e=function(e,t){l(e,d.default.String,"filename"),l(t,d.default.String,"dataUrl");var n=window.document.createElement("a");n.href=t,n.download=e,document.body.appendChild(n),n.click(),document.body.removeChild(n)},t=document.createElement("canvas");t.setAttribute("width","800"),t.setAttribute("height","600");var n=t.getContext("2d");n&&!function(){var r=new Image;r.onload=function(){n.drawImage(r,0,0);var a=t.toDataURL("image/png");e("scheme.png",a)};var a=(new XMLSerializer).serializeToString(document.querySelector("#for_export svg")),o=window.btoa(a);r.src="data:image/svg+xml;base64,"+o}()},a=n,i(r,a)}return u(t,e),f(t,[{key:"render",value:function(){var e=function(){var e=800,t=600;return y.default.createElement("div",null,y.default.createElement("div",null,y.default.createElement("button",{onClick:this.handleTableCreateClick},"Create table")),y.default.createElement("div",null,y.default.createElement("button",{onClick:this.exportToPng},"Export to PNG")),y.default.createElement("div",{style:{display:"none"},id:"for_export"},y.default.createElement(U.default,{style:J.workareaStyle,size:{width:e,height:t},tables:this.props.tables,links:this.props.links,selected:!1,metrics:this.props.metrics,onClick:function(){},onMouseMove:function(){},onAttrClick:function(){},onLinkAddClick:function(){},onLinkDeleteClick:function(){},onAttrDeleteClick:function(){},onAttrMouseDown:function(){},onTableClick:function(){},onTableMouseDown:function(){},onTableDeleteClick:function(){},onMouseUp:function(){},onAttrCreateClick:function(){},newLink:null})),y.default.createElement(U.default,{style:J.workareaStyle,size:{width:e,height:t},tables:this.props.tables,links:this.props.links,selected:this.props.selected,metrics:this.props.metrics,onClick:this.props.onWorkareaClick,onMouseMove:this.props.onMouseMove,onAttrClick:this.props.onAttrClick,onLinkAddClick:this.props.onLinkAddClick,onLinkDeleteClick:this.props.onLinkDeleteClick,onAttrDeleteClick:this.props.onAttrDeleteClick,onAttrMouseDown:this.props.onAttrMouseDown,onTableClick:this.props.onTableClick,onTableMouseDown:this.props.onTableMouseDown,onTableDeleteClick:this.props.onTableDeleteClick,onMouseUp:this.props.onMouseUp,onAttrCreateClick:this.handleAttrCreateClick,newLink:this.props.newLink}),this.state.attrCreateModal!==!1&&y.default.createElement(H.default,{table:this.state.attrCreateModal.table,onSave:this.handleAttrCreate,onCancel:this.handleAttrCancel}),this.state.tableCreateModal!==!1&&y.default.createElement(X.default,{onSave:this.handleTableCreate,onCancel:this.handleTableCancel}))}.call(this);return l(e,d.default.Any,"return value"),e}}]),t}(y.default.Component))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TTableShape=void 0;var a=n(1),o=r(a),i=n(253),u=n(256);t.TTableShape=o.default.interface({table:i.TTable,position:u.TPoint},"TTableShape")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TLinkShape=void 0;var a=n(1),o=r(a),i=(n(255),n(262));t.TLinkShape=o.default.interface({path:i.TPath},"TLinkShape")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TPath=void 0;var a=n(1),o=r(a),i=n(256);t.TPath=o.default.list(i.TPoint,"TPath")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TWorkareaStyle=void 0;var a=n(1),o=r(a),i=n(264),u=n(271);t.TWorkareaStyle=o.default.interface({table:i.TTableStyle,link:u.TLinkStyle,newLink:u.TLinkStyle},"TWorkareaStyle")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TTableStyle=void 0;var a=n(1),o=r(a),i=n(265),u=n(267),l=n(269),f=n(270);t.TTableStyle=o.default.interface({font:i.TFontStyle,header:f.TTableHeaderStyle,border:l.TBorder,attrs:u.TAttrStyle},"TTableStyle")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TFontStyle=void 0;var a=n(1),o=r(a),i=n(266);t.TFontStyle=o.default.interface({color:i.TColor,size:o.default.Number,weight:o.default.String,family:o.default.String,style:o.default.String},"TFontStyle")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TColor=void 0;var a=n(1),o=r(a);t.TColor=o.default.String},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TAttrStyle=void 0;var a=n(1),o=r(a),i=n(265),u=n(268);t.TAttrStyle=o.default.interface({font:i.TFontStyle,padding:u.TIndentStyle},"TAttrStyle")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TIndentStyle=void 0;var a=n(1),o=r(a);t.TIndentStyle=o.default.interface({top:o.default.Number,right:o.default.Number,bottom:o.default.Number,left:o.default.Number},"TIndentStyle")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TBorder=void 0;var a=n(1),o=r(a),i=n(266);t.TBorder=o.default.interface({color:i.TColor},"TBorder")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TTableHeaderStyle=void 0;var a=n(1),o=r(a),i=n(266),u=n(265),l=n(268);t.TTableHeaderStyle=o.default.interface({backgroundColor:i.TColor,font:u.TFontStyle,padding:l.TIndentStyle},"TTableHeaderStyle")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TLinkStyle=void 0;var a=n(1),o=r(a);t.TLinkStyle=o.default.interface({strokeStyle:o.default.enums.of(["solid","dashed"])},"TLinkStyle")},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TWorkareaMetrics=t.TTableMetrics=void 0;var o=n(1),i=a(o),u=(n(258),n(273)),l=r(u),f=n(256),c=r(f),s=l.TSize||i.default.Any,d=(c.TPoint||i.default.Any,i.default.interface({size:s},"TAttrMetrics")),p=i.default.interface({size:s},"TTableHeaderMetrics"),y=t.TTableMetrics=i.default.interface({size:s,header:p,attrs:i.default.list(i.default.interface({name:i.default.String,metrics:d}))},"TTableMetrics");t.TWorkareaMetrics=i.default.interface({tables:i.default.list(i.default.interface({name:i.default.String,metrics:y}))},"TWorkareaMetrics")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.TSize=void 0;var a=n(1),o=r(a);t.TSize=o.default.interface({width:o.default.Number,height:o.default.Number},"TSize")},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,n){return s.default.isType(t)&&"struct"!==t.meta.kind?t.is(e)||t(e,[n+": "+s.default.getTypeName(t)]):e instanceof t||s.default.fail("Invalid value "+s.default.stringify(e)+" supplied to "+n+" (expected a "+s.default.getTypeName(t)+")"),e}Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),s=a(c),d=n(221),p=a(d),y=n(260),h=r(y),b=n(261),v=r(b),m=n(273),T=r(m),g=n(263),_=r(g),w=n(262),S=r(w),A=n(256),k=r(A),E=n(254),P=r(E),O=n(272),x=r(O),C=n(252),M=r(C),D=n(275),j=a(D),N=n(279),L=a(N),F=h.TTableShape||s.default.Any,B=v.TLinkShape||s.default.Any,I=T.TSize||s.default.Any,R=_.TWorkareaStyle||s.default.Any,z=S.TPath||s.default.Any,K=(k.TPoint||s.default.Any,P.TAttr||s.default.Any,x.TWorkareaMetrics||s.default.Any),U=M.TSelected||s.default.Any,W=(s.default.interface({selected:U,metrics:K,tables:s.default.list(F),newLink:s.default.maybe(z),links:s.default.list(B),style:R,size:I,onTableClick:s.default.Function,onTableMouseDown:s.default.Function,onTableDeleteClick:s.default.Function,onAttrMouseDown:s.default.Function,onAttrDeleteClick:s.default.Function,onAttrCreateClick:s.default.Function,onAttrClick:s.default.Function,onMouseMove:s.default.Function,onLinkAddClick:s.default.Function,onLinkDeleteClick:s.default.Function,onMouseUp:s.default.Function,onClick:s.default.Function},"TProps"),function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));
}return u(t,e),f(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.tables,r=t.links,a=t.style,o=t.size,i=t.metrics,u=t.selected,f=t.newLink,c=o.width,d=o.height;return p.default.createElement("svg",{className:"workarea",viewBox:"0 0 "+c+" "+d,width:c,height:d,onMouseUp:function(t){return e.props.onMouseUp({x:t.nativeEvent.offsetX,y:t.nativeEvent.offsetY})},onMouseMove:function(t){return e.props.onMouseMove({x:t.nativeEvent.offsetX,y:t.nativeEvent.offsetY})},ref:function(t){e.workareaEl=t},onClick:function(t){t.target===e.workareaEl&&e.props.onClick()}},r.map(function(t){l(t,B,"linkShape");var n=function(e){var t=e.path,n="link-"+t.map(function(e){var t=e.x,n=e.y;return t+","+n}).join(";");return p.default.createElement(L.default,{key:n,path:e.path,style:a.link})}.call(e,t);return l(n,s.default.Any,"return value"),n}),n.map(function(t){l(t,F,"tableShape");var n=i.tables.filter(function(e){var n=e.name;return n===t.table.name})[0].metrics,r=!1;return u!==!1&&"TABLE"===u.type&&u.table===t.table.name?r={type:"TABLE"}:u!==!1&&"ATTR"===u.type&&u.table===t.table.name&&(r={type:"ATTR",name:u.attr}),p.default.createElement(j.default,{selected:r,metrics:n,style:a.table,key:t.table.name,tableShape:t,onDeleteClick:e.props.onTableDeleteClick,onHeaderClick:e.props.onTableClick,onHeaderMouseDown:e.props.onTableMouseDown,onAttrMouseDown:e.props.onAttrMouseDown,onLinkAddClick:e.props.onLinkAddClick,onLinkDeleteClick:e.props.onLinkDeleteClick,onAttrDeleteClick:e.props.onAttrDeleteClick,onAttrClick:e.props.onAttrClick,onAttrCreateClick:e.props.onAttrCreateClick})}),f&&p.default.createElement(L.default,{path:f,style:a.newLink}))}}]),t}(p.default.Component));t.default=W},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,n){return s.default.isType(t)&&"struct"!==t.meta.kind?t.is(e)||t(e,[n+": "+s.default.getTypeName(t)]):e instanceof t||s.default.fail("Invalid value "+s.default.stringify(e)+" supplied to "+n+" (expected a "+s.default.getTypeName(t)+")"),e}Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),s=a(c),d=n(221),p=a(d),y=n(260),h=r(y),b=n(264),v=r(b),m=n(256),T=r(m),g=n(254),_=r(g),w=n(272),S=r(w),A=n(276),k=a(A),E=n(277),P=a(E),O=n(278),x=a(O),C=h.TTableShape||s.default.Any,M=v.TTableStyle||s.default.Any,D=(T.TPoint||s.default.Any,_.TAttr||s.default.Any,S.TTableMetrics||s.default.Any),j=(s.default.interface({metrics:D,style:M,tableShape:C,selected:s.default.union([s.default.refinement(s.default.Boolean,function(e){return e===!1}),s.default.interface({type:s.default.enums.of(["TABLE"])}),s.default.interface({type:s.default.enums.of(["ATTR"]),name:s.default.String})]),onDeleteClick:s.default.Function,onHeaderClick:s.default.Function,onHeaderMouseDown:s.default.Function,onAttrMouseDown:s.default.Function,onLinkAddClick:s.default.Function,onAttrDeleteClick:s.default.Function,onAttrCreateClick:s.default.Function,onLinkDeleteClick:s.default.Function,onAttrClick:s.default.Function},"TProps"),function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),f(t,[{key:"handleHeaderMouseDown",value:function(e,t){l(e,C,"tableShape"),l(t,s.default.Any,"e");var n=function(e,t){var n={x:t.nativeEvent.offsetX,y:t.nativeEvent.offsetY};this.props.onHeaderMouseDown.call(this,e,n)}.call(this,e,t);return l(n,s.default.Any,"return value"),n}},{key:"render",value:function(){var e=this.props,t=e.tableShape,n=e.style,r=e.metrics,a=e.selected,o=t.position,i=o.x,u=o.y,l=r.size,f=l.width,c=l.height,s=a!==!1&&"TABLE"===a.type;return p.default.createElement("g",null,p.default.createElement("defs",null,p.default.createElement("filter",{id:"active_table_filter",x:"-50%",y:"-50%",width:"200%",height:"200%"},p.default.createElement("feOffset",{result:"offOut",in:"SourceAlpha",dx:"0",dy:"0"}),p.default.createElement("feGaussianBlur",{result:"blurOut",in:"offOut",stdDeviation:"10"}),p.default.createElement("feBlend",{in:"SourceGraphic",in2:"blurOut",mode:"normal"}),p.default.createElement("feComponentTransfer",null,p.default.createElement("feFuncA",{type:"linear",slope:"0.2"})))),s&&p.default.createElement("rect",{filter:"url(#active_table_filter)",x:i,y:u,width:f,height:c,fill:"black"}),p.default.createElement("rect",{x:i,y:u,width:f,height:c,fill:"white",stroke:n.border.color,strokeWidth:"1"}),this.renderHeader(),this.renderAttrs())}},{key:"renderAttrs",value:function(){var e=this,t=this.props,n=t.tableShape,r=t.style,a=t.metrics,o=t.selected,i=n.table.attrs,u=n.position,l=u.x,f=u.y;return i.map(function(t,i){var u=a.attrs.filter(function(e){var n=e.name;return n===t.name})[0].metrics.size;return p.default.createElement(P.default,{key:t.name,name:t.name,style:r.attrs,active:o!==!1&&"ATTR"===o.type&&o.name===t.name,hasLink:n.table.foreignKeys.some(function(e){var n=e.from;return n.attr===t.name}),size:u,position:{x:l,y:f+u.height*i+a.header.size.height},onMouseDown:e.props.onAttrMouseDown.bind(e,n,t),onClick:e.props.onAttrClick.bind(e,n,t),onLinkAddClick:e.props.onLinkAddClick.bind(e,n,t),onLinkDeleteClick:e.props.onLinkDeleteClick.bind(e,n,t),onDeleteClick:e.props.onAttrDeleteClick.bind(e,n,t)})})}},{key:"renderControls",value:function(){var e=this.props.tableShape,t=e.position,n=t.x,r=t.y,a=this.props.metrics,o=a.size,i=o.width,u=o.height,l=10,f=20;return p.default.createElement("g",null,p.default.createElement(x.default,{title:"Delete",x:n+i/2,y:r+u+f/2+l,color:"red",width:60,height:f,onClick:this.props.onDeleteClick.bind(this,e)}),p.default.createElement(x.default,{title:"+ Attribute",x:n+i/2,y:r+u+f+l+l+l,width:80,height:f,onClick:this.props.onAttrCreateClick.bind(this,e)}))}},{key:"renderHeader",value:function(){var e=this.props,t=e.tableShape,n=e.style,r=e.metrics,a=e.onHeaderClick,o=e.selected,i=t.table,u=t.position,l=u.x,f=u.y,c=r.header.size,s=c.width,d=c.height,y=o!==!1&&"TABLE"===o.type,h=n.header.padding;return p.default.createElement("g",null,p.default.createElement("rect",{x:l,y:f,width:s,height:d,fill:n.header.backgroundColor}),p.default.createElement("text",{alignmentBaseline:"middle",fontFamily:n.font.family,x:l+h.left,y:f+d/2,width:s,height:d,fontSize:n.header.font.size,fill:n.header.font.color},i.name),p.default.createElement(k.default,{onClick:a.bind(this,t)},p.default.createElement("rect",{x:l,y:f,width:s,height:d,fill:"transparent",onMouseDown:this.handleHeaderMouseDown.bind(this,t)})),y&&this.renderControls())}}]),t}(p.default.Component));t.default=j},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,n){return s.default.isType(t)&&"struct"!==t.meta.kind?t.is(e)||t(e,[n+": "+s.default.getTypeName(t)]):e instanceof t||s.default.fail("Invalid value "+s.default.stringify(e)+" supplied to "+n+" (expected a "+s.default.getTypeName(t)+")"),e}Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),s=a(c),d=n(221),p=a(d),y=n(256),h=r(y),b=h.TPoint||s.default.Any,v=(s.default.interface({onClick:s.default.Function,children:s.default.maybe(s.default.Any)},"TProps"),s.default.interface({start:s.default.maybe(b)},"TState"),function(e){function t(){var e,n,r,a;o(this,t);for(var u=arguments.length,f=Array(u),c=0;c<u;c++)f[c]=arguments[c];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(f))),r.state={start:null},r.handleMouseDown=function(e){l(e,s.default.Any,"e"),r.setState({start:{x:e.nativeEvent.offsetX,y:e.nativeEvent.offsetY}})},r.handleMouseMove=function(){null!==r.state.start&&r.setState({start:null})},r.handleMouseUp=function(e){l(e,s.default.Any,"e");var t={x:e.nativeEvent.offsetX,y:e.nativeEvent.offsetY},n=r.state.start;n&&t.x===n.x&&t.y===n.y&&r.props.onClick()},a=n,i(r,a)}return u(t,e),f(t,[{key:"render",value:function(){return p.default.createElement("g",{onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onMouseMove:this.handleMouseMove},this.props.children)}}]),t}(p.default.Component));t.default=v},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,n){return s.default.isType(t)&&"struct"!==t.meta.kind?t.is(e)||t(e,[n+": "+s.default.getTypeName(t)]):e instanceof t||s.default.fail("Invalid value "+s.default.stringify(e)+" supplied to "+n+" (expected a "+s.default.getTypeName(t)+")"),e}Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),s=a(c),d=n(221),p=a(d),y=n(260),h=r(y),b=n(264),v=r(b),m=n(267),T=r(m),g=n(256),_=r(g),w=n(273),S=r(w),A=n(254),k=r(A),E=n(272),P=r(E),O=n(276),x=a(O),C=n(278),M=a(C),D=(h.TTableShape||s.default.Any,v.TTableStyle||s.default.Any,T.TAttrStyle||s.default.Any),j=_.TPoint||s.default.Any,N=S.TSize||s.default.Any,L=(k.TAttr||s.default.Any,P.TTableMetrics||s.default.Any,s.default.interface({name:s.default.String,style:D,active:s.default.Boolean,hasLink:s.default.Boolean,size:N,position:j,onMouseDown:s.default.Function,onClick:s.default.Function,onLinkAddClick:s.default.Function,onLinkDeleteClick:s.default.Function,onDeleteClick:s.default.Function},"TProps"),5),F=function(e){function t(){var e,n,r,a,u=this;o(this,t);for(var f=arguments.length,c=Array(f),d=0;d<f;d++)c[d]=arguments[d];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.handleMouseDown=function(e){l(e,s.default.Any,"e");var t=function(e){r.props.onMouseDown({x:e.nativeEvent.offsetX,y:e.nativeEvent.offsetY})}.call(u,e);return l(t,s.default.Any,"return value"),t},a=n,i(r,a)}return u(t,e),f(t,[{key:"renderAddLinkButton",value:function(){var e=this.props,t=e.size,n=t.width,r=t.height,a=(e.style.padding,e.position),o=a.x,i=a.y,u=20;return p.default.createElement(M.default,{title:"↔",x:o+n+L+u,y:i+r/2,width:20,height:20,onClick:this.props.onLinkAddClick})}},{key:"renderDeleteLinkButton",value:function(){var e=this.props,t=e.size,n=t.width,r=t.height,a=e.position,o=a.x,i=a.y,u=20;return p.default.createElement(M.default,{title:"✘",x:o+n+L+u,y:i+r/2,width:20,height:20,onClick:this.props.onLinkDeleteClick})}},{key:"renderDeleteButton",value:function(){var e=this.props,t=e.size,n=t.width,r=t.height,a=e.position,o=a.x,i=a.y,u=50;return p.default.createElement(M.default,{title:"✖",color:"red",x:o+n+L+u,y:i+r/2,width:20,height:20,onClick:this.props.onDeleteClick})}},{key:"render",value:function(){var e=this.props,t=e.name,n=e.style,r=e.active,a=e.hasLink,o=e.size,i=o.width,u=o.height,l=e.position,f=l.x,c=l.y;return p.default.createElement("g",{key:"attr-"+t,x:f,y:c,onMouseDown:this.handleMouseDown},p.default.createElement("defs",null,p.default.createElement("filter",{id:"active_attr_filter",x:"-50%",y:"-50%",width:"200%",height:"200%"},p.default.createElement("feOffset",{result:"offOut",in:"SourceAlpha",dx:"0",dy:"0"}),p.default.createElement("feGaussianBlur",{result:"blurOut",in:"offOut",stdDeviation:"10"}),p.default.createElement("feBlend",{in:"SourceGraphic",in2:"blurOut",mode:"normal"}),p.default.createElement("feComponentTransfer",null,p.default.createElement("feFuncA",{type:"linear",slope:"0.2"})))),p.default.createElement(x.default,{onClick:this.props.onClick},r&&p.default.createElement("rect",{filter:"url(#active_attr_filter)",x:f+1,y:c,width:i-2,height:u,fill:"black"}),r&&p.default.createElement("rect",{x:f+1,y:c,width:i-2,height:u,fill:"white"}),p.default.createElement("text",{fontFamily:n.font.family,fontWeight:r?"bold":"normal",alignmentBaseline:"middle",x:f+n.padding.left,y:c+u/2,fontSize:n.font.size},t),p.default.createElement("rect",{x:f,y:c,width:i,height:u,fill:"transparent",onMouseDown:this.handleMouseDown})),r&&!a&&this.renderAddLinkButton(),r&&a&&this.renderDeleteLinkButton(),r&&this.renderDeleteButton())}}]),t}(p.default.Component);t.default=F},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(1),c=a(f),s=n(221),d=a(s),p=n(260),y=r(p),h=n(264),b=r(h),v=n(267),m=r(v),T=n(256),g=r(T),_=n(273),w=r(_),S=n(254),A=r(S),k=n(272),E=r(k),P=(y.TTableShape||c.default.Any,b.TTableStyle||c.default.Any,m.TAttrStyle||c.default.Any,g.TPoint||c.default.Any,w.TSize||c.default.Any,A.TAttr||c.default.Any,E.TTableMetrics||c.default.Any,c.default.interface({width:c.default.Number,height:c.default.Number,color:c.default.maybe(c.default.String),x:c.default.Number,y:c.default.Number,title:c.default.String,onClick:c.default.Function},"TProps"),function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.width,r=e.height,a=e.x,o=e.y,i=e.color,u="background_"+a+"_"+o;return d.default.createElement("g",null,d.default.createElement("linearGradient",{id:u,x1:"0%",y1:"0%",x2:"0%",y2:"100%"},d.default.createElement("stop",{stopColor:"#FFFFFF",offset:"0"}),d.default.createElement("stop",{stopColor:"#DDDDDD",offset:"1"})),d.default.createElement("rect",{x:a-n/2,y:o-r/2,width:n,height:r,fill:"url(#"+u+")",stroke:"#d2d2d2"}),d.default.createElement("text",{x:a,y:o,alignmentBaseline:"central",textAnchor:"middle",fontSize:15,fontFamily:"sans-serif",fill:i?i:"#4a4a4a"},t),d.default.createElement("rect",{x:a-n/2,y:o-r/2,width:n,height:r,fill:"transparent",stroke:"transparent",rx:"3",ry:"3",onClick:this.props.onClick}))}}]),t}(d.default.Component));t.default=P},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,n){return s.default.isType(t)&&"struct"!==t.meta.kind?t.is(e)||t(e,[n+": "+s.default.getTypeName(t)]):e instanceof t||s.default.fail("Invalid value "+s.default.stringify(e)+" supplied to "+n+" (expected a "+s.default.getTypeName(t)+")"),e}Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),s=a(c),d=n(221),p=a(d),y=n(271),h=r(y),b=n(262),v=r(b),m=h.TLinkStyle||s.default.Any,T=v.TPath||s.default.Any,g=(s.default.interface({path:T,style:m},"TProps"),0),_=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),f(t,[{key:"render",value:function(){var e=function(){var e=this.props,t=e.path,n=e.style,r=t.map(function(e){var t=e.x,n=e.y;return t+","+n}).join(" "),a="marker-end."+(g+=1),o="marker-start."+(g+=1);return p.default.createElement("g",null,p.default.createElement("defs",null,p.default.createElement("marker",{id:o,viewBox:"0 0 10 10",refX:"0",refY:"2",markerUnits:"userSpaceOnUse",markerWidth:"10",markerHeight:"10",orient:"auto"},p.default.createElement("circle",{cx:"3",cy:"3",r:"3",fill:"black"})),p.default.createElement("marker",{id:a,markerWidth:"13",markerHeight:"13",refX:"10",refY:"6",orient:"auto"},p.default.createElement("path",{d:"M2,2 L2,11 L10,6 L2,2",fill:"black"}))),p.default.createElement("polyline",{fill:"none",stroke:"black",points:r,strokeDasharray:"dashed"===n.strokeStyle?"5,5":null,style:{markerStart:"url(#"+o+")",markerEnd:"url(#"+a+")"}}))}.call(this);return l(e,s.default.Any,"return value"),e}}]),t}(p.default.Component);t.default=_},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,n){return s.default.isType(t)&&"struct"!==t.meta.kind?t.is(e)||t(e,[n+": "+s.default.getTypeName(t)]):e instanceof t||s.default.fail("Invalid value "+s.default.stringify(e)+" supplied to "+n+" (expected a "+s.default.getTypeName(t)+")"),e}Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),s=a(c),d=n(221),p=a(d),y=n(254),h=r(y),b=n(281),v=a(b),m=(h.TAttr||s.default.Any,s.default.interface({table:s.default.String,onCancel:s.default.Function,onSave:s.default.Function},"TProps"),function(e){function t(){var e,n,r,a;o(this,t);for(var u=arguments.length,f=Array(u),c=0;c<u;c++)f[c]=arguments[c];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(f))),r.handleSubmit=function(e){l(e,s.default.Any,"e"),e.preventDefault(),r.props.onSave(r.props.table,{name:r.nameInputEl.value})},r.handleCancel=function(e){l(e,s.default.Any,"e"),r.props.onCancel()},a=n,i(r,a)}return u(t,e),f(t,[{key:"render",value:function(){var e=this;return p.default.createElement(v.default,null,p.default.createElement("form",{onSubmit:this.handleSubmit},p.default.createElement("div",null,p.default.createElement("label",null,"Name: ",p.default.createElement("input",{ref:function(t){e.nameInputEl=t}}))),p.default.createElement("div",null,p.default.createElement("button",{type:"button",onClick:this.handleCancel},"Cancel"),p.default.createElement("button",{type:"submit"},"Create"))))}}]),t}(p.default.Component));t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(221),f=r(l),c=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"render",value:function(){return f.default.createElement("div",{className:"modal"},f.default.createElement("div",{className:"modal__body"},this.props.children))}}]),t}(f.default.Component);t.default=c},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,n){return s.default.isType(t)&&"struct"!==t.meta.kind?t.is(e)||t(e,[n+": "+s.default.getTypeName(t)]):e instanceof t||s.default.fail("Invalid value "+s.default.stringify(e)+" supplied to "+n+" (expected a "+s.default.getTypeName(t)+")"),e}Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),s=a(c),d=n(221),p=a(d),y=n(253),h=r(y),b=n(281),v=a(b),m=(h.TTable||s.default.Any,s.default.interface({onCancel:s.default.Function,onSave:s.default.Function},"TProps"),function(e){function t(){var e,n,r,a;o(this,t);for(var u=arguments.length,f=Array(u),c=0;c<u;c++)f[c]=arguments[c];return n=r=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(f))),r.handleSubmit=function(e){l(e,s.default.Any,"e"),e.preventDefault(),r.props.onSave({name:r.nameInputEl.value,attrs:[],foreignKeys:[]})},r.handleCancel=function(e){l(e,s.default.Any,"e"),r.props.onCancel()},a=n,i(r,a)}return u(t,e),f(t,[{key:"render",value:function(){var e=this;return p.default.createElement(v.default,null,p.default.createElement("form",{onSubmit:this.handleSubmit},p.default.createElement("div",null,p.default.createElement("label",null,"Name: ",p.default.createElement("input",{ref:function(t){e.nameInputEl=t}}))),p.default.createElement("div",null,p.default.createElement("button",{type:"button",onClick:this.handleCancel},"Cancel"),p.default.createElement("button",{type:"submit"},"Create"))))}}]),t}(p.default.Component));t.default=m},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t,n){return f.default.isType(t)&&"struct"!==t.meta.kind?t.is(e)||t(e,[n+": "+f.default.getTypeName(t)]):e instanceof t||f.default.fail("Invalid value "+f.default.stringify(e)+" supplied to "+n+" (expected a "+f.default.getTypeName(t)+")"),e}Object.defineProperty(t,"__esModule",{value:!0}),t.getMetrics=t.getHeaderBounds=t.getTableBounds=t.getAttrBounds=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(1),f=a(l),c=n(254),s=r(c),d=(r(c),n(253)),p=r(d),y=n(260),h=r(y),b=n(264),v=r(b),m=n(267),T=r(m),g=n(273),_=r(g),w=n(258),S=r(w),A=n(256),k=r(A),E=n(272),P=r(E),O=n(284),x=(s.TAttr||f.default.Any,p.TTable||f.default.Any),C=(h.TTableShape||f.default.Any,v.TTableStyle||f.default.Any),M=(T.TAttrStyle||f.default.Any,_.TSize||f.default.Any,S.TBounds||f.default.Any),D=k.TPoint||f.default.Any,j=P.TTableMetrics||f.default.Any;t.getAttrBounds=function(e,t,n){i(e,j,"tableMetrics"),i(t,D,"position"),i(n,f.default.String,"attr");var r=function(e,t,n){for(var r=e.attrs,a=e.header,o=0;o<r.length;++o){var i=r[o],l=i.name,f=i.metrics;if(l===n)return u({},f.size,{x:t.x,y:f.size.height*o+t.y+a.size.height})}return null}.call(void 0,e,t,n);return i(r,f.default.maybe(M),"return value"),r},t.getTableBounds=function(e,t){i(e,j,"tableMetrics"),i(t,D,"position");var n=function(e,t){var n=e.attrs,r=e.header;return u({},t,{width:r.size.width,height:r.size.height+n.reduce(function(e,t){return e+t.metrics.size.height},0)})}.call(void 0,e,t);return i(n,f.default.maybe(M),"return value"),n},t.getHeaderBounds=function(e,t){i(e,j,"metrics"),i(t,D,"position");var n=function(e,t){var n=e.header;return u({},t,{width:n.size.width,height:n.size.height})}.call(void 0,e,t);return i(n,f.default.maybe(M),"return value"),n},t.getMetrics=function(e,t){i(e,x,"table"),i(t,C,"style");var n=function(e,t){var n=(0,O.getTextSize)(e.name,t.font),r=e.attrs.map(function(e){var n=e.name;return(0,O.getTextSize)(n,t.font)}),a={width:n.width+t.header.padding.left+t.header.padding.right,height:n.height+t.header.padding.top+t.header.padding.bottom},i=r.map(function(e){var n=e.width,r=e.height;return{width:n+t.attrs.padding.left+t.attrs.padding.right,height:r+t.attrs.padding.top+t.attrs.padding.bottom}}),u=Math.max.apply(Math,[a.width].concat(o(i.map(function(e){var t=e.width;return t}))));return{size:{width:u,height:a.height+i.map(function(e){var t=e.height;return t}).reduce(function(e,t){return e+t},0)},header:{size:{width:u,height:a.height}},attrs:e.attrs.map(function(e,t){return{name:e.name,metrics:{size:{width:u,height:i[t].height}}}})}}.call(void 0,e,t);return i(n,j,"return value"),n}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return u.default.isType(t)&&"struct"!==t.meta.kind?t.is(e)||t(e,[n+": "+u.default.getTypeName(t)]):e instanceof t||u.default.fail("Invalid value "+u.default.stringify(e)+" supplied to "+n+" (expected a "+u.default.getTypeName(t)+")"),e}Object.defineProperty(t,"__esModule",{value:!0}),t.getTextSize=void 0;var i=n(1),u=a(i),l=n(265),f=r(l),c=f.TFontStyle||u.default.Any,s=u.default.interface({width:u.default.Number,height:u.default.Number},"TMeasureResult"),d=null;t.getTextSize=function(e,t){o(e,u.default.String,"text"),o(t,c,"style");var n=function(e,t){var n=t.size,r=t.weight,a=t.family,i=t.style,l=r+" "+i+" "+n+"px "+a;if(null===d){var f=document.createElement("canvas");d=o(o(f.getContext("2d"),u.default.Any,"canvas.getContext('2d')"),CanvasRenderingContext2D,"(canvas.getContext('2d'): any)")}return d.font=l,{width:d.measureText(e).width,height:n}}.call(void 0,e,t);return o(n,s,"return value"),n}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return u.default.isType(t)&&"struct"!==t.meta.kind?t.is(e)||t(e,[n+": "+u.default.getTypeName(t)]):e instanceof t||u.default.fail("Invalid value "+u.default.stringify(e)+" supplied to "+n+" (expected a "+u.default.getTypeName(t)+")"),e}Object.defineProperty(t,"__esModule",{value:!0}),t.workarea=void 0;var i=n(1),u=a(i),l=n(252),f=r(l),c=n(272),s=r(c),d=n(286),p=n(287),y=n(283),h=f.TState||u.default.Any,b=f.TTableState||u.default.Any,v=(s.TWorkareaMetrics||u.default.Any,s.TTableMetrics||u.default.Any),m=function(e){o(e,h,"state");var t=function(e){return e.tables}.call(void 0,e);return o(t,u.default.list(b),"return value"),t},T=(0,d.createSelector)(m,function(e){o(e,u.default.list(b),"tableStates");var t=function(e){return e.map(function(e){var t=e.table;return{name:t.name,metrics:(0,y.getMetrics)(t,p.workareaStyle.table)}})}.call(void 0,e);return o(t,u.default.list(u.default.interface({name:u.default.String,metrics:v})),"return value"),t});t.workarea=o((0,d.createSelector)(T,function(e){return{tables:e}}),u.default.Function,"workarea")},function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){return e===t}function a(e){var t=arguments.length<=1||void 0===arguments[1]?r:arguments[1],n=null,a=null;return function(){for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return null!==n&&n.length===o.length&&o.every(function(e,r){
return t(e,n[r])})||(a=e.apply(void 0,o)),n=o,a}}function o(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var n=t.map(function(e){return typeof e}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, "+("instead received the following types: ["+n+"]"))}return t}function i(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return function(){for(var t=arguments.length,a=Array(t),i=0;i<t;i++)a[i]=arguments[i];var u=0,l=a.pop(),f=o(a),c=e.apply(void 0,[function(){return u++,l.apply(void 0,arguments)}].concat(r)),s=function(e,t){for(var r=arguments.length,a=Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var i=f.map(function(n){return n.apply(void 0,[e,t].concat(a))});return c.apply(void 0,n(i))};return s.resultFunc=l,s.recomputations=function(){return u},s.resetRecomputations=function(){return u=0},s}}function u(e){var t=arguments.length<=1||void 0===arguments[1]?l:arguments[1];if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map(function(t){return e[t]}),function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t,r){return e[n[r]]=t,e},{})})}t.__esModule=!0,t.defaultMemoize=a,t.createSelectorCreator=i,t.createStructuredSelector=u;var l=t.createSelector=i(a)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return l.default.isType(t)&&"struct"!==t.meta.kind?t.is(e)||t(e,[n+": "+l.default.getTypeName(t)]):e instanceof t||l.default.fail("Invalid value "+l.default.stringify(e)+" supplied to "+n+" (expected a "+l.default.getTypeName(t)+")"),e}Object.defineProperty(t,"__esModule",{value:!0}),t.workareaStyle=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(1),l=a(u),f=n(263),c=r(f),s=c.TWorkareaStyle||l.default.Any,d={color:"black",size:18,style:"normal",weight:"normal",family:"sans-serif"},p=i({},d,{color:"white"}),y={font:d,attrs:{font:d,padding:{top:3,right:5,bottom:3,left:5}},header:{padding:{top:4,right:5,bottom:4,left:5},backgroundColor:"#0053a0",font:p},border:{color:"#0053a0"}},h={strokeStyle:"solid"},b={strokeStyle:"dashed"};t.workareaStyle=o({table:y,link:h,newLink:b},s,"workareaStyle")}]);